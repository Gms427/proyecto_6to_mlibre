<div class="top-section"></div>
<div class="signin-container">
    <mat-card class="example-card" (keydown.enter)="signin()">
        <mat-grid-list cols="1">
            <div class="controles-container">
                <form [formGroup]="form" style="height: 455px;">
                    <mat-card-header style="height: 48px; align-items: center;">
                        <mat-card-title style="text-align: left; font-size: 23px; margin-bottom: 20px; margin-left: -16px;">{{ "SignupMessage" | translate }}</mat-card-title>
                    </mat-card-header>
                    <mat-card-header style="height: 48px; float: right; align-items: center;">
                        <a class="link-company-account btn-transparent">{{
                "CreateCompanyAccount" | translate
              }}</a>
                    </mat-card-header>
                    <!-- Name -->
                    <mat-form-field class="example-full-width" style="width: 100%">
                        <input matInput placeholder="{{ 'Fullname' | translate }}" type="text" name="name" [formControl]="nameFormControl" />
                        <mat-error *ngIf="nameFormControl.hasError('invalidUsername')">
                            El nombre debe tener más de 3 caracteres
                        </mat-error>
                        <mat-error *ngIf="nameFormControl.hasError('required')">
                            El nombre completo es <strong>obligatorio</strong>
                        </mat-error>
                    </mat-form-field>
                    <!-- Phone -->
                    <mat-form-field class="example-full-width" style="width: 100%">
                        <input matInput placeholder="{{ 'PhoneNumber' | translate }}" type="number" name="phone" [formControl]="phoneFormControl" />
                        <mat-error *ngIf="phoneFormControl.hasError('required')">
                            El teléfono <strong>obligatorio</strong>
                        </mat-error>
                        <mat-error *ngIf="phoneFormControl.hasError('invalidLength')">
                            El teléfono debe tener al menos 5 dígitos
                        </mat-error>
                    </mat-form-field>
                    <!-- E-mail -->
                    <mat-form-field class="example-full-width" style="width: 100%">
                        <input matInput placeholder="E-mail" type="email" name="email" [formControl]="emailFormControl" />
                        <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
                            Por favor, ingrese un e-mail válido
                        </mat-error>
                        <mat-error *ngIf="emailFormControl.hasError('required')">
                            El e-mail es <strong>obligatorio</strong>
                        </mat-error>
                        <mat-error *ngIf="emailFormControl.hasError('emailUsed')">
                            El e-mail ya está en uso
                        </mat-error>
                    </mat-form-field>
                    <!-- Password -->
                    <mat-form-field class="example-full-width" style="width: 100%">
                        <input matInput placeholder="{{ 'Password' | translate }}" type="password" name="password" formControlName="passwordFormControl" />
                        <mat-error *ngIf="form.controls['passwordFormControl'].hasError('required')">
                            La contraseña es <strong>obligatoria</strong>
                        </mat-error>
                        <mat-error *ngIf="form.controls['passwordFormControl'].hasError('invalidLength') && !form.controls['passwordFormControl'].hasError('required')">
                            La contraseña debe tener más de 6 caracteres
                        </mat-error>
                        <mat-error *ngIf="form.controls['passwordFormControl'].hasError('notLowerCaseLetters')">
                            La contraseña debe tener al menos una letra minúscula
                        </mat-error>
                        <mat-error *ngIf="form.controls['passwordFormControl'].hasError('notUpperCaseLetters')">
                            La contraseña debe tener al menos una letra mayúscula
                        </mat-error>
                        <mat-error *ngIf="form.controls['passwordFormControl'].hasError('notNumbers')">
                            La contraseña debe tener al menos un número
                        </mat-error>
                    </mat-form-field>
                    <!-- Confirm Password -->
                    <mat-form-field class="example-full-width" style="width: 100%">
                        <input matInput placeholder="Confirmar contraseña" type="password" name="confirmPassword" formControlName="confirmPasswordFormControl" />
                        <mat-error *ngIf="form.controls['confirmPasswordFormControl'].hasError('NoPassswordMatch') || form.controls['confirmPasswordFormControl'].hasError('required')">
                            Las contraseñas no coinciden
                        </mat-error>
                    </mat-form-field>
                    <!-- Generic errors -->
                    <mat-error *ngIf="error" style="font-size: 14px;">
                        {{error}}
                    </mat-error>
                </form>
                <div class="bottom-section">
                    <p class="signin-conditions">
                        <mat-checkbox color="primary" class="example-margin" [(ngModel)]="checkTerms">
                        </mat-checkbox>
                        {{ "SigninConditions1" | translate }}
                        <a>{{ "PrivacyPolicy" | translate }}</a> {{ "SigninConditions2" | translate }}
                        <a>{{ "TermsAndConditions" | translate }}</a> {{ "OfNosbey" | translate }}
                    </p>

                    <button mat-raised-button color="primary" (click)="signin()" class="btn-signin" [disabled]="!(checkTerms &&
                nameFormControl.status !== 'INVALID' &&
                phoneFormControl.status !== 'INVALID' &&
                emailFormControl.status !== 'INVALID' && 
                form.controls['passwordFormControl'].status !== 'INVALID' &&
                form.controls['confirmPasswordFormControl'].status !== 'INVALID')
                ">
                  {{ "Signin" | translate }}
                </button>
                </div>
            </div>
        </mat-grid-list>
    </mat-card>
</div>